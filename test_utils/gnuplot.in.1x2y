
### Default variables values

if (!exists("outpng"))  outpng  = "out.png"

if (!exists("title1"))  title   = "Nice title"
if (!exists("xlabel"))  xlabel  = "Label X"
if (!exists("title1"))  title1  = "title1"
if (!exists("title2"))  title2  = "title2"
if (!exists("ylabel1")) ylabel1 = "Label Y1"
if (!exists("ylabel2")) ylabel2 = "Label Y2"
if (!exists("file1"))   file1   = "input_file1"
if (!exists("file2"))   file2   = "input_file2"

if (!exists("xfactor"))  xfactor  = 1
if (!exists("y1factor")) y1factor = 1
if (!exists("y2factor")) y2factor = 1

if (!exists("color1")) color1 = "red"
if (!exists("color2")) color2 = "dark-blue"

### Properties

set term pngcairo enhance
set title font "-Bold,12"

if (exists("xrmin")  && exists("xrmax"))  set xrange  [xrmin:xrmax]
if (exists("y1rmin") && exists("y1rmax")) set yrange  [y1rmin:y1rmax]
if (exists("y2rmin") && exists("y2rmax")) set y2range [y2rmin:y2rmax]

set xtics  font ",8"
set ytics  font ",8" tc rgb color1
set y2tics font ",8" tc rgb color2
set ytics  nomirror

set grid
set mxtics
set mytics
set format x "%.0t*10^{%T}"

set linetype 1 linewidth 2 linecolor rgb color1
set linetype 2 linewidth 1 linecolor rgb color2
set style line 1 lt 1 ps 2
set style line 2 lt 2 ps 1

set key left vertical Left reverse font ",10"

### Plot

set output outpng
set title  title
set xlabel xlabel
set ylabel  y1label offset +2 tc rgb color1
set y2label y2label offset -2 tc rgb color2

plot \
file1 u ($1*xfactor):($2*y1factor) w linespoints linestyle 1 title title1 axes x1y1, \
file2 u ($1*xfactor):($2*y2factor) w linespoints linestyle 2 title title2 axes x1y2
